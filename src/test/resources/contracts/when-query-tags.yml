version: 1

settings:
  mode: STRICT
  defaultStatus: 404

endpoints:

  - id: tag-present
    priority: 10
    request:
      method: GET
      path: /test
    when:
      query:
        tag: "*"
    response:
      type: mock
      status: 200
      body:
        matched: tag-present

  - id: tag-equals
    priority: 20
    request:
      method: GET
      path: /test
    when:
      query:
        tag: "as"
    response:
      type: mock
      status: 200
      body:
        matched: tag-equals

  - id: tag-any
    priority: 15
    request:
      method: GET
      path: /test
    when:
      query:
        tag:
          any: ["as", "ab"]
    response:
      type: mock
      status: 200
      body:
        matched: tag-any

  - id: tag-all
    priority: 30
    request:
      method: GET
      path: /test
    when:
      query:
        tag:
          all: ["as", "ab"]
    response:
      type: mock
      status: 200
      body:
        matched: tag-all
